# Chapter 4. TDD · 기능 명세 · 설계

## 기능 명세

우리가 코드를 작성하는 이유는 사용자가 사용 할 어 떤 기능을 제공하기 위함.

기능에 대한 명세는 크게 입력과 출력으로 나누어 생각해 볼 수 있다.

입력과 결과

* 입력
  * 기능을 실행하는데 필요한 값
  * 보통 메서드의 파라미터로 전달
<br>
    예) 로그인 기능<br>
        - 입력: 아이디와 암호<br>
        - 출력: 아이디와 암호가 일치하면 성공, 일치하지 않으면 실패
* 결과
  * return 값
  * Exception
  * 변경
    * DB 데이터를 변경하는 경우, 변경 후 다시 조회하여 결과를 확인할 수 있다.<br>
    예) 회원가입<br>
    회원가입 기능을 실행한 뒤에는 DB 테이블을 조회해서 기대한 데이터가 올바르게 삽입 되었는지 확인 할 수 있다.
<br>

**설계는 기능 명세로부터 시작한다.**
* 다양한 형태의 요구사항 문서를 이용해서 기능 명세를 구체화
* 입력과 결과 도출 → 도출한 기능 명세를 코드에 반영
<br>

## 설계 과정을 지원하는 TDD
TDD는 **테스트 코드를 먼저 만들고** 테스트를 통과시키기 위해 코드를 구현하고 리팩토링하는 과정을 반복.

테스트 코드를 먼저 만들기 위해 무엇이 필요한 것.
* 테스트할 기능을 실행
  * 기능을 실행하기 위해서 클래스명, 메서드명, 파라미터명 등을 결정하게 됨
* 실행 결과를 검증
  *  리턴 타입, 예외 고민
  <br>
=> TDD 자체가 설계는 아니지만, TDD를 하다 보면 테스트 코드를 작성하는 과정에서 일부 설계를 진행하게 된다.
* 기능을 정확하게 표현하는 이름을 사용해야 한다. 이름으로 기대하는 것과 다르게 동작하는 코드는 분석과 수정 시 어려움을 준다.
<br>

## 필요한 만큼 설계하기
* TDD는 테스트를 통과할 만큼만 코드를 작성한다.
* 필요할 것으로 예측해서 미리 코드를 작성하지 않고, 유연한 설계는 필요한 시점에 추가한다.
* 설계가 불필요하게 복잡해지는 것을 방지.<br>
**=>TDD는 미리 코드를 만들지 않으므로 불필요한 구성요소를 덜 만들게 된다.**

## 기능 명세 구체화
- 모호한 상황을 만나면 이를 구체적인 예로 바꾸어 테스트 코드에 반영한다. <br>
즉, **테스트 코드는 예를 이용한 구체적인 명세가 된다.**<br>
- 테스트 코드는 바로 실행 할 수 있다. 
기능을 바로 실행해 볼 수 있다.

**개발자는 최대한 예외적인 상황이나 복잡한 상황에 해당하는 구체적인 예를 끄집어내야 한다.**<br>

이를 위한 가장 좋은 방법은 담당자와 대화를 하는 것.



